<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">

</head>

<body>
    <div>
        <button id="rock">ROCK</button>
        <button id="scissors">SCISSORS</button>
        <button id="paper">PAPER</button>
    </div>
    <div id="result"></div>
    <script>
        const choice = document.querySelectorAll('button');

        var youWin = 0;
        var comWin = 0;

        choice.forEach((button) => {
            button.addEventListener('click', round)
        });

        function round(e) {
            let you_choice = e.target.id;
            let comp_choice = computerPlay()

            result(you_choice, comp_choice);
            counter();
            end();

        }

        function result(you_choice, comp_choice) {
            if (you_choice == 'rock') {
                if (comp_choice == 'scissors') {
                    youWin++;
                } else if (comp_choice == 'paper') {
                    comWin++;
                }
            }

            if (you_choice == 'scissors') {
                if (comp_choice == 'paper') {
                    youWin++;
                } else if (comp_choice == 'rock') {
                    comWin++;
                }
            }

            if (you_choice == 'paper') {
                if (comp_choice == 'rock') {
                    youWin++;
                } else if (comp_choice == 'scissors') {
                    comWin++;
                }
            }

        }

        function counter() {
            const result = document.querySelector('#result');
            result.textContent = String(youWin + ' ' + comWin);
        }

        function end() {
            if (youWin == 5) {
                const victory = document.querySelector('#result');
                victory.textContent = 'victory';
                youWin = 0;
                comWin = 0;
            } else if (comWin == 5) {
                const defeat = document.querySelector('#result');
                defeat.textContent = 'defeat';
                youWin = 0;
                comWin = 0;
            }
        }

        function computerPlay() {
            let max = 3;
            let min = 0;
            choose = Math.floor(Math.random() * (max - min) + min);
            if (choose == 1) {
                return 'rock';
            } else if (choose == 2) {
                return 'paper';
            } else {
                return 'scissors';
            }
        }

    </script>

</body>

</html>